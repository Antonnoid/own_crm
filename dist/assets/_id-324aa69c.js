import{r as U,u as V,o as K,c as N,a as s,b as a,d,e as v,F as h,g as k,h as o,w as l,i as q,t as f,f as n,k as m,q as E}from"./index-602ec296.js";import{u as R}from"./objects.module-0df643eb.js";import"./auth-header-ad4d04ca.js";const G={class:"flex gap-24"},H={class:"w-[30%]"},J={key:0,class:"flex justify-between"},P=v("p",null,"..........................................",-1),Q=v("div",null,"Slider",-1),W={__name:"brief",props:{id:String},setup(O){const y=O;U("1");const p=V(),i=U(!1),u=R();p.params.id,K(()=>{r()});const g=N(()=>u.objectBrief),r=async()=>{i.value=!0;try{await u.getObjectBrief("country",y.id).then(_=>{_.data.result==="error"&&message.error(_.data.text),i.value=!1})}catch(_){console.error("Error fetching data in component:",_)}};return(_,c)=>{const $=s("a-divider"),B=s("a-card");return a(),d("div",G,[v("div",H,[(a(!0),d(h,null,k(g.value,j=>(a(),o(B,{class:"mb-16",key:j.title},{default:l(()=>[q(f(j.title)+" ",1),n($),v("div",null,[(a(!0),d(h,null,k(j.fields,x=>(a(),d("div",{key:x.id},[x.value?(a(),d("div",J,[v("p",null,f(x.name),1),P,v("p",null,f(x.value),1)])):m("",!0)]))),128))])]),_:2},1024))),128))]),Q])}}};const X={key:0,class:"flex justify-center items-center"},Y={key:1},Z={class:"font-bold"},w={class:"grid gap-[1.6rem] grid-cols-gridObjectInfo"},ee={__name:"edit",props:{id:String},setup(O){const y=O;V();const p=U(!1),i=R(),u=U({id:y.id,section:"country",fields:{}});K(()=>{r()});const g=N(()=>i.objectFields),r=async()=>{p.value=!0;try{await i.getObjectFields("country",y.id).then(c=>{c.data.result==="error"&&message.error(c.data.text),p.value=!1})}catch(c){console.error("Error fetching data in component:",c)}},_=async()=>{p.value=!0;try{await i.updateObject(u.value).then(c=>{})}catch(c){console.error("Error fetching data in component:",c)}};return(c,$)=>{const B=s("a-button"),j=s("a-spin"),x=s("a-divider"),D=s("a-input"),b=s("a-form-item"),I=s("a-textarea"),L=s("a-date-picker"),M=s("a-checkbox"),F=s("a-select-option"),C=s("a-select"),T=s("a-radio-button"),z=s("a-radio-group"),A=s("a-card");return a(),d("div",null,[n(B,{onClick:_},{default:l(()=>[q("Save")]),_:1}),p.value?(a(),d("div",X,[n(j)])):(a(),d("div",Y,[(a(!0),d(h,null,k(g.value,S=>(a(),o(A,{class:"",key:S.title},{default:l(()=>[v("div",Z,f(S.title),1),n(x),v("div",w,[(a(!0),d(h,null,k(S.fields,e=>(a(),d("div",{key:e.id},[e.type==="text"||e.type==="number"?(a(),o(b,{key:0,label:e.name,name:e.name,rules:[{required:e.required}],class:"flex flex-col items-start"},{default:l(()=>[n(D,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full"},null,8,["value","onUpdate:value","type"])]),_:2},1032,["label","name","rules"])):m("",!0),e.type==="textarea"?(a(),o(b,{key:1,label:e.name,name:e.name,rules:[{required:e.required}]},{default:l(()=>[n(I,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full"},null,8,["value","onUpdate:value","type"])]),_:2},1032,["label","name","rules"])):m("",!0),e.type==="date"?(a(),o(b,{key:2,label:e.name,name:e.name,rules:[{required:e.required}]},{default:l(()=>[n(L,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full",style:{width:"100%"}},null,8,["value","onUpdate:value","type"])]),_:2},1032,["label","name","rules"])):m("",!0),e.type==="checkbox"?(a(),o(b,{key:3,label:e.name,name:e.name,rules:[{required:e.required}]},{default:l(()=>[n(M,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full",style:{width:"100%"}},{default:l(()=>[q(f(e.name)+" - "+f(e.code),1)]),_:2},1032,["value","onUpdate:value","type"])]),_:2},1032,["label","name","rules"])):m("",!0),e.type=="select"&&e.mode=="static"?(a(),o(b,{key:4,label:e.name,name:e.name,rules:[{required:e.required,message:"Required"}]},{default:l(()=>[n(C,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,class:"w-full",defaultValue:e.options&&e.options.length>0&&e.options.find(t=>t.checked===!0)?e.options.find(t=>t.checked===!0).value:"Не выбрано"},{default:l(()=>[(a(!0),d(h,null,k(e.options,t=>(a(),o(F,{key:t.id,value:t.id},{default:l(()=>[q(f(t.value),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","defaultValue"])]),_:2},1032,["label","name","rules"])):m("",!0),e.type=="select"&&e.mode=="ajax"?(a(),o(b,{key:5,label:e.name,name:e.name,rules:[{required:e.required,message:"Required"}]},{default:l(()=>[n(C,{value:e.code,"onUpdate:value":t=>e.code=t,"show-search":"","filter-option":c.filterOption,class:"w-full"},{default:l(()=>[(a(!0),d(h,null,k(c.optionsData,t=>(a(),o(F,{key:t.id,value:t.value},{default:l(()=>[q(f(t.value),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","filter-option"])]),_:2},1032,["label","name","rules"])):m("",!0),e.type=="radio"?(a(),o(b,{key:6,label:e.name,name:e.name,rules:[{required:e.required,message:"Required"}]},{default:l(()=>[n(z,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,disabled:c.disabled,"button-style":"solid",defaultValue:e.options&&e.options.length>0&&e.options.find(t=>t.checked===!0)?e.options.find(t=>t.checked===!0).value:"Не выбрано"},{default:l(()=>[(a(!0),d(h,null,k(e.options,t=>(a(),o(T,{key:t.id,value:t.value},{default:l(()=>[q(f(t.value),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","disabled","defaultValue"])]),_:2},1032,["label","name","rules"])):m("",!0)]))),128))])]),_:2},1024))),128))]))])}}},te={class:"p-[4rem] w-full"},ue={__name:"_id",setup(O){const y=U("1"),i=V().params.id;return(u,g)=>{const r=s("a-tab-pane"),_=s("a-tabs");return a(),d("div",te,[n(_,{activeKey:y.value,"onUpdate:activeKey":g[0]||(g[0]=c=>y.value=c),type:"card"},{default:l(()=>[n(r,{key:"1",tab:"Информация"},{default:l(()=>[n(W,{id:E(i)},null,8,["id"])]),_:1}),n(r,{key:"2",tab:"Редактирование"},{default:l(()=>[n(ee,{id:E(i)},null,8,["id"])]),_:1}),n(r,{key:"3",tab:"Фотографии"}),n(r,{key:"4",tab:"Комментарии"}),n(r,{key:"5",tab:"Лиды"}),n(r,{key:"6",tab:"Собственник"})]),_:1},8,["activeKey"])])}}};export{ue as default};
