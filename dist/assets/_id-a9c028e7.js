import{r as U,u as V,o as K,c as N,a as u,b as a,d as c,e as k,F as b,g as h,h as o,w as l,i as x,t as _,f as n,k as y,q as E}from"./index-048c2267.js";import{u as R}from"./objects.module-8f99467f.js";import"./auth-header-ad4d04ca.js";const H={class:"flex gap-24"},J={class:"w-[30%]"},P={class:"objects-detail__info-elem flex flex-1"},Q=k("div",null,"Slider",-1),W={__name:"brief",props:{id:String},setup(B){const v=B;U("1");const p=V(),i=U(!1),s=R();p.params.id,K(()=>{r()});const g=N(()=>s.objectBrief),r=async()=>{i.value=!0;try{await s.getObjectBrief("country",v.id).then(f=>{f.data.result==="error"&&message.error(f.data.text),i.value=!1})}catch(f){console.error("Error fetching data in component:",f)}};return(f,O)=>{const d=u("a-divider"),C=u("a-card");return a(),c("div",H,[k("div",J,[(a(!0),c(b,null,h(g.value,q=>(a(),o(C,{class:"mb-16",key:q.title},{default:l(()=>[x(_(q.title)+" ",1),n(d),k("div",null,[(a(!0),c(b,null,h(q.fields,j=>(a(),c("div",{key:j.id,class:"flex"},[k("div",P,_(j.name),1),k("div",null,_(j.value),1)]))),128))])]),_:2},1024))),128))]),Q])}}};const X={key:0,class:"flex justify-center items-center"},Y={key:1},Z={class:"font-bold"},w={class:"grid gap-[1.6rem] grid-cols-gridObjectInfo"},ee={__name:"edit",props:{id:String},setup(B){const v=B;V();const p=U(!1),i=R(),s=U({id:v.id,section:"country",fields:{}});K(()=>{f()});const g=N(()=>i.objectFields),r=(d,C)=>{console.log("valva",d,C)},f=async()=>{p.value=!0;try{await i.getObjectFields("country",v.id).then(d=>{d.data.result==="error"&&message.error(d.data.text),p.value=!1})}catch(d){console.error("Error fetching data in component:",d)}},O=async()=>{p.value=!0;try{await i.updateObject(s.value).then(d=>{})}catch(d){console.error("Error fetching data in component:",d)}};return(d,C)=>{const q=u("a-button"),j=u("a-spin"),D=u("a-divider"),I=u("a-input"),m=u("a-form-item"),L=u("a-textarea"),M=u("a-date-picker"),T=u("a-checkbox"),$=u("a-select-option"),F=u("a-select"),z=u("a-radio-button"),A=u("a-radio-group"),G=u("a-card");return a(),c("div",null,[n(q,{onClick:O},{default:l(()=>[x("Save")]),_:1}),p.value?(a(),c("div",X,[n(j)])):(a(),c("div",Y,[(a(!0),c(b,null,h(g.value,S=>(a(),o(G,{class:"",key:S.title},{default:l(()=>[k("div",Z,_(S.title),1),n(D),k("div",w,[(a(!0),c(b,null,h(S.fields,e=>(a(),c("div",{key:e.id},[e.type==="text"||e.type==="number"?(a(),o(m,{key:0,label:e.name,name:e.name,rules:[{required:e.required}],class:"flex flex-col items-start"},{default:l(()=>[n(I,{value:s.value.fields[e.code],"onUpdate:value":t=>s.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full"},null,8,["value","onUpdate:value","type"])]),_:2},1032,["label","name","rules"])):y("",!0),e.type==="textarea"?(a(),o(m,{key:1,label:e.name,name:e.name,rules:[{required:e.required}]},{default:l(()=>[n(L,{value:s.value.fields[e.code],"onUpdate:value":t=>s.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full"},null,8,["value","onUpdate:value","type"])]),_:2},1032,["label","name","rules"])):y("",!0),e.type==="date"?(a(),o(m,{key:2,label:e.name,name:e.name,rules:[{required:e.required}]},{default:l(()=>[n(M,{value:s.value.fields[e.code],"onUpdate:value":t=>s.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full",style:{width:"100%"}},null,8,["value","onUpdate:value","type"])]),_:2},1032,["label","name","rules"])):y("",!0),e.type==="checkbox"?(a(),o(m,{key:3,label:e.name,name:e.name,rules:[{required:e.required}]},{default:l(()=>[n(T,{value:s.value.fields[e.code],"onUpdate:value":t=>s.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full",style:{width:"100%"},onChange:t=>r(e.value,t)},{default:l(()=>[x(_(e.name)+" - "+_(e.code)+" - "+_(e.value),1)]),_:2},1032,["value","onUpdate:value","type","onChange"])]),_:2},1032,["label","name","rules"])):y("",!0),e.type=="select"&&e.mode=="static"?(a(),o(m,{key:4,label:e.name,name:e.name,rules:[{required:e.required,message:"Required"}]},{default:l(()=>[n(F,{value:s.value.fields[e.code],"onUpdate:value":t=>s.value.fields[e.code]=t,class:"w-full",defaultValue:e.options&&e.options.length>0&&e.options.find(t=>t.checked===!0)?e.options.find(t=>t.checked===!0).value:"Не выбрано"},{default:l(()=>[(a(!0),c(b,null,h(e.options,t=>(a(),o($,{key:t.id,value:t.id},{default:l(()=>[x(_(t.value),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","defaultValue"])]),_:2},1032,["label","name","rules"])):y("",!0),e.type=="select"&&e.mode=="ajax"?(a(),o(m,{key:5,label:e.name,name:e.name,rules:[{required:e.required,message:"Required"}]},{default:l(()=>[n(F,{value:e.code,"onUpdate:value":t=>e.code=t,"show-search":"","filter-option":d.filterOption,class:"w-full"},{default:l(()=>[(a(!0),c(b,null,h(d.optionsData,t=>(a(),o($,{key:t.id,value:t.value},{default:l(()=>[x(_(t.value),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","filter-option"])]),_:2},1032,["label","name","rules"])):y("",!0),e.type=="radio"?(a(),o(m,{key:6,label:e.name,name:e.name,rules:[{required:e.required,message:"Required"}]},{default:l(()=>[n(A,{value:s.value.fields[e.code],"onUpdate:value":t=>s.value.fields[e.code]=t,disabled:d.disabled,"button-style":"solid",defaultValue:e.options&&e.options.length>0&&e.options.find(t=>t.checked===!0)?e.options.find(t=>t.checked===!0).value:"Не выбрано"},{default:l(()=>[(a(!0),c(b,null,h(e.options,t=>(a(),o(z,{key:t.id,value:t.value},{default:l(()=>[x(_(t.value),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","disabled","defaultValue"])]),_:2},1032,["label","name","rules"])):y("",!0)]))),128))])]),_:2},1024))),128))]))])}}},te={class:"p-[4rem] w-full"},se={__name:"_id",setup(B){const v=U("1"),i=V().params.id;return(s,g)=>{const r=u("a-tab-pane"),f=u("a-tabs");return a(),c("div",te,[n(f,{activeKey:v.value,"onUpdate:activeKey":g[0]||(g[0]=O=>v.value=O),type:"card"},{default:l(()=>[n(r,{key:"1",tab:"Информация"},{default:l(()=>[n(W,{id:E(i)},null,8,["id"])]),_:1}),n(r,{key:"2",tab:"Редактирование"},{default:l(()=>[n(ee,{id:E(i)},null,8,["id"])]),_:1}),n(r,{key:"3",tab:"Фотографии"}),n(r,{key:"4",tab:"Комментарии"}),n(r,{key:"5",tab:"Лиды"}),n(r,{key:"6",tab:"Собственник"})]),_:1},8,["activeKey"])])}}};export{se as default};
