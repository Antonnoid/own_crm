import{r as h,u as T,h as Y,o as M,l as F,a as f,b as s,c as l,d as t,F as p,e as v,t as m,n as C,m as i,v as _,j as g,f as w}from"./index-0bc94454.js";import{u as U}from"./index-f83c9f04.js";const I={class:"cn"},L={class:"leads single places",id:"app"},A=t("div",{class:"filter__task-t"},[t("p",{class:"filter__text"},"Фильтр")],-1),G={class:"single__main"},j={class:"single__main-slider --info show-flex"},q={class:"single__form"},z={class:"single__title"},$={key:0,class:"single__map"},H={key:0},J={class:"single__group-elementData"},K=["value","readonly"],Q={class:"single__content"},W={class:"single__group-subtitle"},X={class:"single__group-elementData"},Z=["id"],ee={class:"single__group --columns"},te=["for"],se=["checked","id","value","data-value"],ae=t("div",{class:"single__check-box"},null,-1),le={class:"single__check-text"},re={__name:"_id",setup(oe){const k=h([]),n=U(),c=T(),y=h(),u=Y({type:"edit",data:{NAME:"",PROPERTY_REGION_TYPE:""},id:c.params.id,place:c.path.split("/")[2]}),P=h([{value:"3479",label:"Область"},{value:"3478",label:"Город"}]);M(()=>{x()}),F(y,()=>{console.log("sss",y.value)});const x=async()=>{try{await n.fetchPlacesSubChild(c.path.split("/")[2],c.params.id),k.value=n.placesSubChild}catch(a){console.error("Error fetching data in component:",a)}},E=(a,b)=>b.value.toLowerCase().indexOf(a.toLowerCase())>=0,O=a=>{console.log(a.target.value),u.data.NAME=a.target.value},R=a=>{console.log(`selected ${a}`),u.data.PROPERTY_REGION_TYPE=a,console.log(u)},N=()=>{console.log("blur")},S=()=>{console.log("focus")},V=async()=>{await n.addNewPlaceChild(u),await n.fetchPlacesSubChild(c.params.id),k.value=n.placesSubChild};return h(void 0),(a,b)=>{const B=f("a-input"),D=f("a-select");return s(),l("div",I,[t("main",L,[t("div",{class:"filter"},[t("div",{class:"filter__task --w-refresh hidden-desktop"},[A,t("div",{class:"filter__refresh"},[t("div",{onClick:V,class:"filter__refresh-btn"}," Обновить ")])])]),t("div",G,[t("div",j,[t("div",q,[(s(!0),l(p,null,v(k.value,r=>(s(),l("div",{class:"single__item",key:r.id},[t("div",z,[t("span",null,m(r.rowTitle),1)]),r.data[0].html=="map"?(s(),l("div",$,[(s(!0),l(p,null,v(r.data,e=>(s(),l("div",{key:e.id,class:C(e.code=="PROPERTY_COORD_Y"?"map":""),id:"crmPlacesMap",style:{position:"relative",overflow:"hidden",width:"100%",height:"400px"}},[e.html=="map"?(s(),l("div",H,[i(t("div",J,[t("div",null,[t("input",{type:"text",value:e.currentValue,ref_for:!0,ref:e.code,readonly:a.subChild=="view"},null,8,K)])],512),[[_,e.html!="map"]])])):g("",!0)],2))),128))])):g("",!0),t("div",Q,[(s(!0),l(p,null,v(r.data,e=>i((s(),l("div",{class:C(["single__content-element",e.html=="checkbox"?"info --infra":""]),key:e.id,id:""},[t("div",null,[i(t("div",W,[t("span",null,m(e.title)+" "+m(e.required?"*":""),1)],512),[[_,!0]]),i(t("div",X,[t("div",null,[e.html!=="select"&&e.html!=="checkbox"&&e.html!=="select-multiple"?(s(),w(B,{key:0,value:e.currentValue,"onUpdate:value":o=>e.currentValue=o,ref_for:!0,ref:e.code,type:e.html,class:"single__group-input",onChange:O},null,8,["value","onUpdate:value","type"])):g("",!0)]),t("div",null,[t("div",{class:"filter__wrap-select",ref_for:!0,ref:e.code,id:e.code+"_select"},[e.html=="select"||e.html=="select-multiple"?(s(),w(D,{key:0,value:e.currentValueName,"onUpdate:value":o=>e.currentValueName=o,"show-search":"",style:{width:"200px"},options:P.value,"filter-option":E,onFocus:S,onBlur:N,onChange:R},null,8,["value","onUpdate:value","options"])):g("",!0)],8,Z)]),t("div",ee,[(s(!0),l(p,null,v(e.values,(o,d)=>i((s(),l("div",{class:"single__check",key:d},[t("label",{class:"single__check-label",for:e.code+"_"+d},[t("input",{type:"checkbox",checked:o.checked==1,id:e.code+"_"+d,value:o.checked==1?1:0,"data-value":o.title,ref_for:!0,ref:e.code+"_"+d,class:"single__check-input"},null,8,se),ae,t("div",le,m(o.title),1)],8,te)])),[[_,e.html==="checkbox"]])),128))])],512),[[_,!0]])])],2)),[[_,!0]])),128))])]))),128))])])])])])}}};export{re as default};
