import{r as U,u as V,o as K,c as N,a as s,b as a,d as c,e as m,F as h,g as k,h as o,w as l,i as q,t as _,f as n,k as v,q as E}from"./index-c35605e9.js";import{u as R}from"./objects.module-b0d5e990.js";import"./auth-header-ad4d04ca.js";const H={class:"flex gap-24"},J={class:"w-[30%]"},P={key:0,class:"flex justify-between"},Q=m("p",null,"..........................................",-1),W=m("div",null,"Slider",-1),X={__name:"brief",props:{id:String},setup(B){const y=B;U("1");const p=V(),i=U(!1),u=R();p.params.id,K(()=>{r()});const g=N(()=>u.objectBrief),r=async()=>{i.value=!0;try{await u.getObjectBrief("country",y.id).then(f=>{f.data.result==="error"&&message.error(f.data.text),i.value=!1})}catch(f){console.error("Error fetching data in component:",f)}};return(f,O)=>{const d=s("a-divider"),C=s("a-card");return a(),c("div",H,[m("div",J,[(a(!0),c(h,null,k(g.value,j=>(a(),o(C,{class:"mb-16",key:j.title},{default:l(()=>[q(_(j.title)+" ",1),n(d),m("div",null,[(a(!0),c(h,null,k(j.fields,x=>(a(),c("div",{key:x.id},[x.value?(a(),c("div",P,[m("p",null,_(x.name),1),Q,m("p",null,_(x.value),1)])):v("",!0)]))),128))])]),_:2},1024))),128))]),W])}}};const Y={key:0,class:"flex justify-center items-center"},Z={key:1},w={class:"font-bold"},ee={class:"grid gap-[1.6rem] grid-cols-gridObjectInfo"},te={__name:"edit",props:{id:String},setup(B){const y=B;V();const p=U(!1),i=R(),u=U({id:y.id,section:"country",fields:{}});K(()=>{f()});const g=N(()=>i.objectFields),r=(d,C)=>{console.log("valva",d,C)},f=async()=>{p.value=!0;try{await i.getObjectFields("country",y.id).then(d=>{d.data.result==="error"&&message.error(d.data.text),p.value=!1})}catch(d){console.error("Error fetching data in component:",d)}},O=async()=>{p.value=!0;try{await i.updateObject(u.value).then(d=>{})}catch(d){console.error("Error fetching data in component:",d)}};return(d,C)=>{const j=s("a-button"),x=s("a-spin"),D=s("a-divider"),I=s("a-input"),b=s("a-form-item"),L=s("a-textarea"),M=s("a-date-picker"),T=s("a-checkbox"),$=s("a-select-option"),F=s("a-select"),z=s("a-radio-button"),A=s("a-radio-group"),G=s("a-card");return a(),c("div",null,[n(j,{onClick:O},{default:l(()=>[q("Save")]),_:1}),p.value?(a(),c("div",Y,[n(x)])):(a(),c("div",Z,[(a(!0),c(h,null,k(g.value,S=>(a(),o(G,{class:"",key:S.title},{default:l(()=>[m("div",w,_(S.title),1),n(D),m("div",ee,[(a(!0),c(h,null,k(S.fields,e=>(a(),c("div",{key:e.id},[e.type==="text"||e.type==="number"?(a(),o(b,{key:0,label:e.name,name:e.name,rules:[{required:e.required}],class:"flex flex-col items-start"},{default:l(()=>[n(I,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full"},null,8,["value","onUpdate:value","type"])]),_:2},1032,["label","name","rules"])):v("",!0),e.type==="textarea"?(a(),o(b,{key:1,label:e.name,name:e.name,rules:[{required:e.required}]},{default:l(()=>[n(L,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full"},null,8,["value","onUpdate:value","type"])]),_:2},1032,["label","name","rules"])):v("",!0),e.type==="date"?(a(),o(b,{key:2,label:e.name,name:e.name,rules:[{required:e.required}]},{default:l(()=>[n(M,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full",style:{width:"100%"}},null,8,["value","onUpdate:value","type"])]),_:2},1032,["label","name","rules"])):v("",!0),e.type==="checkbox"?(a(),o(b,{key:3,label:e.name,name:e.name,rules:[{required:e.required}]},{default:l(()=>[n(T,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,ref_for:!0,ref:e.code,type:e.html,class:"w-full",style:{width:"100%"},onChange:t=>r(e.value,t)},{default:l(()=>[q(_(e.name)+" - "+_(e.code)+" - "+_(e.value),1)]),_:2},1032,["value","onUpdate:value","type","onChange"])]),_:2},1032,["label","name","rules"])):v("",!0),e.type=="select"&&e.mode=="static"?(a(),o(b,{key:4,label:e.name,name:e.name,rules:[{required:e.required,message:"Required"}]},{default:l(()=>[n(F,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,class:"w-full",defaultValue:e.options&&e.options.length>0&&e.options.find(t=>t.checked===!0)?e.options.find(t=>t.checked===!0).value:"Не выбрано"},{default:l(()=>[(a(!0),c(h,null,k(e.options,t=>(a(),o($,{key:t.id,value:t.id},{default:l(()=>[q(_(t.value),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","defaultValue"])]),_:2},1032,["label","name","rules"])):v("",!0),e.type=="select"&&e.mode=="ajax"?(a(),o(b,{key:5,label:e.name,name:e.name,rules:[{required:e.required,message:"Required"}]},{default:l(()=>[n(F,{value:e.code,"onUpdate:value":t=>e.code=t,"show-search":"","filter-option":d.filterOption,class:"w-full"},{default:l(()=>[(a(!0),c(h,null,k(d.optionsData,t=>(a(),o($,{key:t.id,value:t.value},{default:l(()=>[q(_(t.value),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","filter-option"])]),_:2},1032,["label","name","rules"])):v("",!0),e.type=="radio"?(a(),o(b,{key:6,label:e.name,name:e.name,rules:[{required:e.required,message:"Required"}]},{default:l(()=>[n(A,{value:u.value.fields[e.code],"onUpdate:value":t=>u.value.fields[e.code]=t,disabled:d.disabled,"button-style":"solid",defaultValue:e.options&&e.options.length>0&&e.options.find(t=>t.checked===!0)?e.options.find(t=>t.checked===!0).value:"Не выбрано"},{default:l(()=>[(a(!0),c(h,null,k(e.options,t=>(a(),o(z,{key:t.id,value:t.value},{default:l(()=>[q(_(t.value),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","disabled","defaultValue"])]),_:2},1032,["label","name","rules"])):v("",!0)]))),128))])]),_:2},1024))),128))]))])}}},ae={class:"p-[4rem] w-full"},se={__name:"_id",setup(B){const y=U("1"),i=V().params.id;return(u,g)=>{const r=s("a-tab-pane"),f=s("a-tabs");return a(),c("div",ae,[n(f,{activeKey:y.value,"onUpdate:activeKey":g[0]||(g[0]=O=>y.value=O),type:"card"},{default:l(()=>[n(r,{key:"1",tab:"Информация"},{default:l(()=>[n(X,{id:E(i)},null,8,["id"])]),_:1}),n(r,{key:"2",tab:"Редактирование"},{default:l(()=>[n(te,{id:E(i)},null,8,["id"])]),_:1}),n(r,{key:"3",tab:"Фотографии"}),n(r,{key:"4",tab:"Комментарии"}),n(r,{key:"5",tab:"Лиды"}),n(r,{key:"6",tab:"Собственник"})]),_:1},8,["activeKey"])])}}};export{se as default};
